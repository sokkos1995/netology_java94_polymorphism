# Домашнее задание к занятию «Полиморфизм»

## Цель задания

1. Научиться использовать полиморфизм в проектировании логики работы классов.

------

## Задание 1 (обязательное)

Мы будем писать систему бухгалтерского учёта.
Логика контроля доходов и расходов будет в одном классе, а логика системы налогооблажения — в других.
Полиморфизм понадобится, чтобы это без сбоев работало друг с другом.

Создайте класс `Company`. Каждая компания должна знать свои `title` (название), `debit` (доходы), `credit` (расходы) и `taxSystem` (систему налогооблажения, о ней ниже).

В этом классе должен быть только один конструктор, задающий название компании и систему налогооблажения, принимая их параметрами. Доходы и расходы изначально равны нулю.

У компании должен быть метод `shiftMoney(int amount)`, который работает так:

* если `amount` больше 0, то увеличивается значение `debit` на `amount`;
* если `amount` меньше 0, то увеличивается значение `credit` на `Math.abs(amount)`;
* если `amount` равен 0, то ничего не происходит.

Теперь поговорим про системы налогооблажения.
Все системы налогооблажения будут наследоваться от класса `TaxSystem`, переопределяя метод расчёта налогов по доходам и расходам:

```java
package taxes;

public class TaxSystem {
    public int calcTaxFor(int debit, int credit) {
        return 0;
    }
}
```

Обратите внимание, что этот класс находится в пакете. В том же пакете должны находиться и классы других налоговых систем, которые вам предстоит написать.

Реализуйте два класса налоговых систем:

* УСН доходы — налог 6% от доходов;
* УСН доходы минус расходы — налог 15% от разницы доходов и расходов.

Помните, что налог не может быть отрицательным. В таком случае налог должен быть 0.

Компания должна работать с любой системой налогооблажения, поэтому внутри класса `Company` используйте класс `TaxSystem` в указании типов ячеек. По правилу полиморфизма, в них можно будет передать объекты любых наследников этого класса, с конкретными логиками расчёта налогов.

Добавьте в класс `Company` сеттер для смены системы налогооблажения.

Добавьте в класс `Company` метод `payTaxes()`, который:

* рассчитает с помощью выбранной этой компанией системы налогооблажения размер налогов;
* выведет сообщение на экран вида: `Компания <название> уплатила налог в размере: <сумма> руб.`;
* обнулит счётчики `debit` и `credit`.

Протестируйте работоспособность своих классов в `Main`.

## Задание 2 (необязательное)

:warning: _Эта задача — усложнение первой задачи, поэтому выполняйте её в том же проекте. Получается, что в качестве домашней работы вы сдадите один проект, в котором будет первая или вторая задача._

Создайте в вашем проекте дополнительный класс `Deal`, объект которого будет описывать сделку, что может провернуть компания.
Каждая сделка сопровождается комментарием (`comment`), суммой расходов (`creditChange`) и суммой доходов (`debitChange`).
Создайте конструктор, который принимает эти три параметра.

Создайте два наследника: `Sale` (продажа) и `Expenditure` (трата). Объект `Sale` должен конструироваться от названия товара и его цены, являясь сделкой с комментарием (`comment`) вида `Продажа <название товара> на <цена> руб.`, `debitChange` размером в цену и нулевым `creditChange`. Объект `Expenditure` должен конструироваться от названия товара и его цены, являясь сделкой с комментарием (`comment`) вида `Покупка <название товара> на <цена> руб.`, `creditChange` размером в цену и нулевым `debitChange`

В классе `Company` создайте метод `int applyDeals(Deal[] deals)`, в результате вызова которого:

* компания применяет все сделки из массива сделок (т. е. увеличивает `credit` на `creditChange`, `debit` на `debitChange`);
* выплачивает все налоги;
* возвращает из метода разницу доходов и расходов, которая была на момент старта уплаты налогов.

Протестируйте работоспособность своих классов в `Main`.
